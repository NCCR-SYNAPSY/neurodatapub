**************
Changes
**************


Version 0.4
--------------

Date: January 18, 2021

Fourth beta release of `NeuroDataPub` that includes in particular the following changes.

New Features
=============

* Create a bash script that records all commands generated by `NeuroDataPub` for later execution.

* Give the option to handle datasets that do not follow BIDS standard.
  This can be configured either via the new `is_not_bids` option flag of the
  commandline interface, or by disabling the "Dataset is bids" option in the
  "Configuration of Directories" tab.

* Ignore existing files during the copy of dataset files with `rsync`.

Bug Fixes
=========

* Correct the pattern employed during the check of the schema of the JSON configurations
  for the `"github_login"` and `"github_token"` fields.

* Do not reload `datalap.api` and do not reset osf credentials in
  `authenticate_osf()`.

Minor changes
=============

* Copyright year has been updated in all files.

* `--bids_dir` argument of the commandline interface has been changed to
  `--dataset_dir`

* The attribute input_bids_dir` of `NeuroDataPubProject` has been changed to
  `input_dataset_dir`.

* Suppress `QXcbConnection: XCB error` message during execution of `NeuroDataPub`

Documentation
=============

* Update documentation for the creation of the bash script
  using NeuroDataPub Assistant.

* Add details about the new option to handle non BIDS datasets.

More...
========

Please check the main release pull request `PR#38 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/38>`_.


Version 0.3
--------------

Date: August 31, 2021

Third beta release of `NeuroDataPub` that includes in particular the following changes.


New Features
=============

* Publish dataset (no annex) to GitHub and the annexed files to `OSF <https://osf.io>`_. (See `PR#35 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/35>`_)

* Improve automation of GitHub authentication and add github_organization to the config file. (See `PR#36 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/35>`_)

Documentation
=============

* Update documentation for the publication to OSF and update the image for the configuration of the siblings using NeuroDataPub Assistant. (See `PR#37 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/37>`_)

More...
========

Please check the main release pull request `PR#32 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/32>`_.


Version 0.2
--------------

Date: August 09, 2021

Second beta release of `NeuroDataPub` that includes in particular the following changes.


New Features
=============

* Update automatically the SSH config with an entry for the remote SSH server to configure the user login used by default by `ssh`. (See `PR#25 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/25>`_)

Documentation
=============

* Add documentation page to give instructions for the remote data server setup. (See `PR#28 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/28>`_)

* Update documentation for the creation of the conda environment and the installation of `git-annex` on Linux and MacOSX. (See `PR#23 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/23>`_)

Bug Fixes
=========

* Replace *old* `datalad.api.publish()` with *new* `datalad.api.push()`. (See `PR#22 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/22>`_)

  .. note::
    `datalad.api.publish()` was not able to handle properly the publication of the special git-annex remote such that it was impossible to get the content of the annexed files.

Misc
===========

* Add `conda/environment_macosx.yml`, a conda environment file specific to MacOSX where `git-annex` is not included. (See `PR#23 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/23>`_)

* Use content of README as `long_description` in `setup.py` for publication to PyPI. (See `PR#26 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/26>`_)

More...
========

Please check the main release pull request `PR#24 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/24>`_.


Version 0.1
--------------

Date: August 05, 2021

Beta release which provides a first working prototype of `NeuroDataPub`.


Features
=============

* Provide a commandline interface (CLI) to create and publish neuroimaging datasets
  to GitHub NCCR-SYNAPSY, with files annexed in a host institution, accessible
  via `ssh`.

* Adopt a `traits/traitsui` model that extends the CLI with a graphical user interface,
  aka the `NeuroDataPub Assistant`, to improve its accessibility by non IT experts.

* Provide a Conda `environment.yml` to support the installation of
  Python with all dependencies.

* Provide a `setup.py` to make installation of the `neurodatapub` package easy with `pip install`.

* Adopt CircleCI for continuous integration testing.
  CircleCI project page: https://app.circleci.com/pipelines/github/NCCR-SYNAPSY/neurodatapub

* Use `Codacy <https://www.codacy.com/>`_ to support code reviews and monitor code quality over time.
  Codacy project page: https://app.codacy.com/gh/NCCR-SYNAPSY/neurodatapub/dashboard


More...
========

For more change details and development discussions, please check:

* `pull request 1 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/1>`_:
  Main PR with the core API.

* `pull request 7 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/7>`_,
  `pull request 16 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/16>`_,
  `pull request 17 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/17>`_,
  `pull request 18 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/18>`_,
  `pull request 19 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/19>`_:
  PRs that adds the read-the-docs documentation source code and images.

* `pull request 8 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/8>`_:
  PR that adds the use of CircleCI for testing the installation and deploying
  the package to PyPI.

* `pull request 9 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/9>`_:
  PR that adopts Codacy, correct code style issues, and update the README.

* `pull request 12 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/12>`_:
  PR that refines the `setup.py` (project status set to BETA) before
  deployment to PyPI.

* `pull request 13 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/13>`_,
  `pull request 21 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/13>`_:
  PRs that refines `changes.rst`. PR#21 updates tool intro in `index.rst` and `README.md`
  before deployment to PyPI.

* `pull request 20 <https://github.com/NCCR-SYNAPSY/neurodatapub/pull/20>`_:
  PR that makes all options not required when executing with ``--gui``.
